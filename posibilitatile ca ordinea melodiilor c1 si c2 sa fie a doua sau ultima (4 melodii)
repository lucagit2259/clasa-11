#include <iostream>
#include <cmath>
using namespace std;
int s[30], k, n, as, ev, o;
int c1, c2;
void tipar()
{
    for(int i=1; i<=k; i++)
    {
        cout<<s[i]<<" ";
    }
    cout<<endl;
}
int succesor()
{
    if(s[k]<n){
        s[k]++; return 1;
    }
    return 0;
}
int solutie()
{
    return k==n;
}
int valid()
{
    if(k==2) if (s[k]!=c1) return 0;
    if(k==n-1) if (s[k]!=c2) return 0;
    for(int i=1; i<k; i++){
        if(s[k]==s[i]) return 0;
    }
    return 1;
}
void bt()
{
    k=1;
    s[k]=0;
    while(k>0)
    {
        as=1; ev=0;
        while(as&& !ev)
        {
            as=succesor();
            if(as);
            ev=valid(); }
        if(as)
            if(solutie())
            {
                tipar(); o++;
            }
            else{
                k++;
                s[k]=0;
            }
            else k--;
    }
}
int main()
{
    cout<<"cate melodii introduceti? ";
    cin>>n;
    cout<<"cele 2 cantece: ";
    cin>>c1>>c2;
    bt();
    cout<<endl<<o<<" de solutii";
    return 0;
}
